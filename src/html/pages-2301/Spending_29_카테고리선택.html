<!DOCTYPE HTML>
<html lang="ko">
@@include('../include/head.html')
<body>
<div class="wrap _btnSlideOpen"></div>
<div class="modal-slide modal-expenditure choose-category _modalSlide">
    <div class="modal-slide-content">
        <a href="#" class="btn-close _btnSlideClose"></a>
        <div class="inner">
            <div class="title">카테고리 선택</div>
            <div class="category-list">
                <ul>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_loan@2x.png" width="54" alt="loan"></em>
                            <span>대출</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_save@2x.png" width="54" alt="save"></em>
                            <span>저축/투자</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_insurance@2x.png" width="54" alt="insurance"></em>
                            <span>보험</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_house@2x.png" width="54" alt="house"></em>
                            <span>주거/통신</span>
                        </a>
                    </li>
                </ul>
                <ul>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_subscript@2x.png" width="54" alt="subscript"></em>
                            <span>구독</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_education@2x.png" width="54" alt="education"></em>
                            <span>교육</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_tax@2x.png" width="54" alt="tax"></em>
                            <span>세금</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_heart@2x.png" width="54" alt="donation"></em>
                            <span>기부/후원</span>
                        </a>
                    </li>
                </ul>
                <ul>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_mart@2x.png" width="54" alt="mart"></em>
                            <span>마트/편의점</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_food@2x.png" width="54" alt="food"></em>
                            <span>외식</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_dessert@2x.png" width="54" alt="dessert"></em>
                            <span>카페/간식</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_entertainment@2x.png" width="54" alt="entertainment"></em>
                            <span>술/유흥</span>
                        </a>
                    </li>
                </ul>
                <ul>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_goods@2x.png" width="54" alt="goods"></em>
                            <span>생활편의</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_shopping@2x.png" width="54" alt="event"></em>
                            <span>쇼핑</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_beauty2@2x.png" width="54" alt="cloth"></em>
                            <span>미용</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <em class="img"><img src="../../img/common/expenditure/icon-category/ic_cate_leisure@2x.png" width="54" alt="leisure"></em>
                            <span>문화/여가</span>
                        </a>
                    </li>
                </ul>
                <div class="btn-wrap fixed-bottom">
                    <a class="btn btn-big btn-purple-bg btn-block" href="#">[<span>카테고리명</span>] 카테고리 저장하기</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal-slide-backdrop"></div>
<script>
    $(document).ready(function () {
        var btnSlideOpen = $('._btnSlideOpen');
        var btnSlideClose = $('._btnSlideClose');

        btnSlideOpen.on('click',function (){
            setTimeout(
                function(){
                    document.getElementsByClassName("_modalSlide")[0].style.display='block';
                }, 500
            );
            $('._modalSlide').addClass('up').removeClass('down');
            $('.modal-slide-backdrop').addClass('show');
            $('body').addClass('scrOn')
        });

        btnSlideClose.on('click',function (){
            setTimeout(
                function(){
                    document.getElementsByClassName("_modalSlide")[0].style.display='none';
                }, 1000
            );
            $('._modalSlide').removeClass('up').addClass('down').parents('body').css('overflow-y' , 'auto');
            $('.modal-slide-backdrop').removeClass('show');
            $('body').removeClass('scrOn')
        });

        btnSlideOpen.trigger('click');

        // 20230524 추가
        $(window).click(function (e) {
        var $target = e.target.nextElementSibling.className
          if ( $target === "modal-slide-backdrop show") {
            $("._modalSlide").removeClass("up").addClass("down");
            $(".modal-slide-backdrop").removeClass("show");
          }
        });


/*        var list = $('.category-list');
        var listLi = $('.category-list ul li');
        var btn = $('.category-list .btn-wrap');
        listLi.on('click',function (){
            if(listLi.hasClass('active')) {
                btn.addClass('active');
                list.removeClass('on');
            }else {
                 btn.removeClass('active');
                list.addClass('on')
                listLi.addClass('active');
            }
        });*/

        var list = $('.category-list');
        var listLi = $('.category-list ul li');
        var listLiA = $('.category-list ul li.active');
        var btn = $('.category-list .btn-wrap');

        listLi.on('click',function (){
            let txt = $(this).find('span').html();


            if($(this).hasClass('active')){
                $(this).removeClass('active');

            }else {
                listLi.removeClass('active');
                $(this).addClass('active');
                list.addClass('on');
                btn.find('span').html(txt);
            }

                if(listLi.hasClass('active') == false) {
                    if (listLiA.length == 0) {
                        list.removeClass('on');
                    }
                }


        });
    })
</script>
</body>
</html>
