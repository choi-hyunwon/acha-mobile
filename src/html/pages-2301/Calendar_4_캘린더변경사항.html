<!DOCTYPE HTML>
<html lang="ko">
@@include('../include/head.html')

<body>
    <div class="wrap renewal">
        <div class="header _sticky">
            <a href="#" class="sprite btn_back"></a>
            <h2>캘린더</h2>
            <div class="sum-area">
                <p class="update mb-0">30분 전<i class="ico-refresh-mini"></i></p>
                <!--<p class="update-ing">
                업데이트 중입니다
                <img src="../../img/common/animation_16.gif" width="13" alt="로딩">
            </p>-->
            </div>
        </div>
        <div class="contents expenditure">
            <div class="expenditure-calendar">
                <div class="ex-calendar">
                    <div class="box-ex-calendar-header">
                        <div class="date"><a href="#">2023년 4월<i class="icon-arrow-bottom"> </i></a></div>
                        <a href="#" class="filter"><i class="btn btn-filter">필터 <span>3</span></i></a>
                    </div>
                    <div class="box_ex_calendar ex-calendar-v3">
                        <div id='calendar'></div>
                    </div>
                </div>
                <!-- expenditure-box -->
                <div class="expenditure-box bg_light_gray">
                    <div class="calendar-history">
                        <div class="filter-wrap">
                            <p class="count">
                                총 <span class="f-point">14</span>건
                            </p>
                            <p class="filter">
                                가계부 내역만 보기
                                <label>
                                    <input type="checkbox" class="filled-in">
                                    <span></span>
                                </label>
                            </p>
                        </div>
                        <div class="date-detail">
                            <div class="t-day">
                                <span class="day">21일</span>
                                <span class="badge badge-gray">금</span>
                            </div>
                            <div class="detail">
                                <div class="plus">
                                    <span class="tit">수입</span><span class="price">+2,500,000<span>원</span></span>
                                </div>
                                <div class="minus">
                                    <span class="tit">지출</span><span class="price">-2,500,000<span>원</span></span>
                                </div>
                            </div>
                        </div>

                        <div class="history-list-calendar">
                            <ul>
                                <li>
                                    <span class="time">13:50 <em>|</em> 신한Deepdream</span>
                                    <span class="detail">
                                        <span class="tit">아파트관리비</span>
                                        <span class="price">-15,000<span>원</span></span>
                                    </span>
                                    <div class="tag">
                                        <span>칭구들돼지파티</span>
                                    </div>
                                </li>
                                <li class="uninclude">
                                    <span class="time">13:50 <em>|</em> 신한Deepdream</span>
                                    <span class="detail">
                                        <span class="tit">아파트관리비</span>
                                        <span class="price">-15,000<span>원</span></span>
                                        <span class="emotion"><img src="../../img/common/ico-emoji-excited@2x.png"
                                                alt=""></span>
                                    </span>
                                    <div class="tag">
                                        <span>칭구들돼지파티</span>
                                    </div>
                                </li>
                                <li>
                                    <span class="time">13:50 <em>|</em> 신한Deepdream</span>
                                    <span class="detail">
                                        <span class="tit">아파트관리비</span>
                                        <span class="price">-15,000<span>원</span></span>
                                    </span>
                                </li>
                                <li>
                                    <span class="time">13:50 <em>|</em> 신한Deepdream</span>
                                    <span class="detail">
                                        <span class="tit">아파트관리비</span>
                                        <span class="price">-15,000<span>원</span></span>
                                    </span>
                                </li>
                            </ul>
                        </div>

                    </div>
                </div>
                <!-- //expenditure-box -->

            </div>
        </div>
    </div>
    <script>

        var storyTag = [
            {
                start: '2022-12-16'
            },
            {
                start: '2022-12-20'
            },
        ]


        document.addEventListener('DOMContentLoaded', function () {
            var weekList = ['일', '월', '화', '수', '목', '금', '토'];
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                plugins: ['interaction', 'dayGrid'],
                showNonCurrentDates: true,
                fixedWeekCount: false,
                header: false,
                height: 'auto',
                defaultDate: '2022-12-15',  // 날짜 입력시, 달력 show
                editable: false,
                eventLimit: false,
                navLinks: true,
                timeZone: 'Asia/Seoul',
                columnHeaderText: function (date) {
                    return weekList[date.getDay()];
                },
                navLinkDayClick: function (date, jsEvent) {
                    console.log(date.toISOString().slice(0, 10));
                    console.log(jsEvent.target)
                },
                dayRender: function (date, cell) {
                    //gallery 데이터와 일치하는 날짜에 이미지 추가
                    var theDate = $(date.el).data('date');
                    console.log(date);
                    for (var i = 0; i < storyTag.length; i++) {
                        if (theDate === storyTag[i].start) {
                            $(date.el).addClass('has-data');
                            $(date.el).prepend("<span class='story_tag'><img src='../../img/common/icon_tag_cal_story@2x.png' id='스토리 작성' width='8'/></span>");
                        }
                    }
                },
                events: [
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-16'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-12'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-01'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-02'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-03'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-04'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-05'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-06'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-07'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-07'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-08'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-09'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-10'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-11'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-1'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-1'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-1'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-12'
                    },
                    {
                        className: 'minus-data',
                        title: '-100,000',
                        start: '2022-12-12'
                    },
                    {
                        className: 'minus-data',
                        title: '-480,000',
                        start: '2022-12-13'
                    },
                    {
                        className: 'minus-data',
                        title: '-1,020,000',
                        start: '2022-12-14'
                    },
                    // 표시 할 데이터가 있고, 선택된 일자가 있는 금액의 첫번째에 plus-data 클래스 추가 **
                    {
                        className: 'plus-data',
                        title: '+100,000',
                        start: '2022-12-03'
                    },
                    {
                        className: 'minus-data',
                        title: '-50,000',
                        start: '2022-12-03'
                    },
                    {
                        className: 'plus-data',
                        title: '+50,000',
                        start: '2022-12-10'
                    },
                    {
                        className: 'plus-data',
                        title: '+100,000',
                        start: '2022-12-17'
                    },
                    {
                        className: 'plus-data',
                        title: '+8,100,000',
                        start: '2022-12-23'
                    },
                    {
                        className: 'plus-data',
                        title: '+8,100,000',
                        start: '2022-12-28'
                    },
                ],
            });

            calendar.render();
        });
    </script>
</body>

</html>