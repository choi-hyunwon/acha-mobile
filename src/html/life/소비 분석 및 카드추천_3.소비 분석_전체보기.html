<!DOCTYPE HTML>
<html lang="ko">
@@include('../include/head.html')
<body>
<div class="wrap renewal">
    <div class="header _sticky">
        <a href="#" class="sprite btn_back"></a>
        <h2>소비 분석</h2>
    </div>
    <div class="contents lifestyle pb-0">
        <div class="spend-analysis-wrap">
            <p class="title accent">
                <span class="name">김유비</span>님의 최근 3개월 <br><span class="f-point">소비를 분석</span>했어요!
            </p>
            <p class="noti">✽ 유플래너 기본 카테고리만 반영해요</p>
            
            <div id="highcharts" style="width: 300px; height: 260px; margin: 30px auto 0; background: transparent;"></div>        
            
            <div class="bar-graph-wrap">
                <p class="title">카테고리별 지출</p>
                <ul class="bar-graph-list">
                    <!-- li의 class는 그래프의 순위입니다.
                        순위별로 그래프 색상이 달라집니다. (6위까지) -->
                    <li class="first">
                        <div class="subject">
                            <span class="category_A025">반려동물</span>
                            <a href="#">관련 혜택 카드보기 <i class="sprite icon ico_arrow_small_nor"></i></a>
                        </div>
                        <div class="bar-graph">
                            <span class="bar" style="width: 100%"></span>
                        </div>
                        <p><span class="amount">19,000,000</span>원</p>
                    </li>
                    <li class="second">
                        <div class="subject">
                            <span class="category_A009">마트/편의점</span>
                            <a href="#">관련 혜택 카드보기 <i class="sprite icon ico_arrow_small_nor"></i></a>
                        </div>
                        <div class="bar-graph">
                            <span class="bar" style="width: 75%"></span>
                        </div>
                        <p><span class="amount">600,000</span>원</p>
                    </li>
                    <li class="third">
                        <div class="subject">
                            <span class="category_A015">미용</span>
                            <!-- <a href="#">관련 혜택 카드보기 <i class="sprite icon ico_arrow_small_nor"></i></a> -->
                        </div>
                        <div class="bar-graph">
                            <span class="bar" style="width: 60%"></span>
                        </div>
                        <p><span class="amount">300,000</span>원</p>
                    </li>
                    <li class="fourth">
                        <div class="subject">
                            <span class="category_A020">용돈/생활비</span>
                            <a href="#">관련 혜택 카드보기 <i class="sprite icon ico_arrow_small_nor"></i></a>
                        </div>
                        <div class="bar-graph">
                            <span class="bar" style="width: 35%"></span>
                        </div>
                        <p><span class="amount">60,000</span>원</p>
                    </li>
                    <li class="fifth">
                        <div class="subject">
                            <span class="category_A011">카페/간식</span>
                            <!-- <a href="#">관련 혜택 카드보기 <i class="sprite icon ico_arrow_small_nor"></i></a> -->
                        </div>
                        <div class="bar-graph">
                            <span class="bar" style="width: 20%"></span>
                        </div>
                        <p><span class="amount">50,000</span>원</p>
                    </li>
                    <li class="sixth">
                        <div class="subject">
                            <span class="category_A003">보험</span>
                            <a href="#">관련 혜택 카드보기 <i class="sprite icon ico_arrow_small_nor"></i></a>
                        </div>
                        <div class="bar-graph">
                            <span class="bar" style="width: 15%"></span>
                        </div>
                        <p><span class="amount">50,000</span>원</p>
                    </li>
                    <li class="etc">
                        <div class="subject">
                            <span class="category_A004">주거/통신</span>
                            <a href="#">관련 혜택 카드보기 <i class="sprite icon ico_arrow_small_nor"></i></a>
                        </div>
                        <div class="bar-graph">
                            <span class="bar" style="width: 10%"></span>
                        </div>
                        <p><span class="amount">10,000</span>원</p>
                    </li>
                    <li class="etc">
                        <div class="subject">
                            <span class="category_A016">취미/여가</span>
                            <!-- <a href="#">관련 혜택 카드보기 <i class="sprite icon ico_arrow_small_nor"></i></a> -->
                        </div>
                        <div class="bar-graph">
                            <span class="bar" style="width: 8%"></span>
                        </div>
                        <p><span class="amount">7,800</span>원</p>
                    </li>
                    <li class="etc">
                        <div class="subject">
                            <span class="category_A015">미용</span>
                            <!-- <a href="#">관련 혜택 카드보기 <i class="sprite icon ico_arrow_small_nor"></i></a> -->
                        </div>
                        <div class="bar-graph">
                            <span class="bar" style="width: 5%"></span>
                        </div>
                        <p><span class="amount">7,000</span>원</p>
                    </li>
                    <li class="etc">
                        <div class="subject">
                            <span class="category_A006">교육</span>
                            <a href="#">관련 혜택 카드보기 <i class="sprite icon ico_arrow_small_nor"></i></a>
                        </div>
                        <div class="bar-graph">
                            <span class="bar" style="width: 3%"></span>
                        </div>
                        <p><span class="amount">1,000</span>원</p>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const chart = Highcharts.chart('highcharts', {
            chart: {
                type: 'packedbubble',
            },
            title: false,
            tooltip: false,
            exporting: {
                enabled: false
            },
            legend: {
                enabled: false
            },
            credits: {
                enabled: false
            },
            plotOptions: {
                packedbubble: {
                    minSize: '0%',
                    maxSize: '130%',
                    zMin: 0,
                    zMax: 130,
                    layoutAlgorithm: {
                        splitSeries: false,
                        gravitationalConstant: 0.02
                    },
                    dataLabels: {
                    enabled: true,
                    format: '{point.name}',
                    filter: false,
                    style: {
                        fontWeight: '600',
                        fontFamily: 'NotoSansCJKKR',
                        textOutline: 'none',
                        border: 'none'
                    },
                },
                    states: {
                        hover: {
                        enabled: true,
                        halo: {
                            size: 0
                        }
                    },
                        inactive: {
                            opacity: 1
                        }
                    },
                    marker: {
                        fillOpacity: 1,
                    },
                }
            },
            series: [
            {
                name: '1위',
                color: 'rgba(255, 168, 29, 0.12)',
                images: '../../img/common/lifestyle/ico_A009.png',
                data: [{
                    name: '반려동물',
                    value: 120,
                    marker: {
                        lineWidth: 0,
                        lineColor: 'transparent',
                    },
                }],
                dataLabels: {
                    style: {
                        color: '#ffa81d',
                        fontSize: '15px',
                    }
                },
            }, {
                name: '2위',
                color: 'rgba(92, 136, 255, 0.12)',
                data: [{
                    name: '마트/편의점',
                    value: 88,
                    marker: {
                        lineWidth: 0,
                        lineColor: 'transparent',
                    },
                }],
                dataLabels: {
                    style: {
                        color: '#5c88ff',
                        fontSize: '13px',
                    }
                },
                states: {
                    hover :{
                        halo: {
                            opacity: 1,
                            size: 0
                        },
                    }
                }
            }, {
                name: '3위',
                color: 'rgba(250, 115, 152, 0.12)',
                data: [{
                    name: '미용',
                    value: 80,
                    marker: {
                        lineWidth: 0,
                        lineColor: 'transparent',
                    },
                }],
                dataLabels: {
                    style: {
                        color: '#fa7398',
                        fontSize: '13px',
                    }
                },
                states: {
                    hover :{
                        halo: {
                            opacity: 1,
                            size: 0
                        },
                    }
                }
            },{
                name: '4위',
                color: 'rgba(130, 110, 255, 0.12)',
                data: [{
                    name: '용돈/생활비',
                    value: 76,
                    marker: {
                        lineWidth: 0,
                        lineColor: 'transparent',
                    },
                }],
                dataLabels: {
                    style: {
                        color: '#826eff',
                        fontSize: '12px',
                    }
                },
                states: {
                    hover :{
                        halo: {
                            opacity: 1,
                            size: 0
                        },
                    }
                }
            }, 
            {
                name: '5위',
                color: 'rgba(171, 110, 255, 0.12)',
                data: [{
                    name: '카페/간식',
                    value: 65,
                    marker: {
                        lineWidth: 0,
                        lineColor: 'transparent',
                    },
                }],
                dataLabels: {
                    style: {
                        color: '#ab6eff',
                        fontSize: '12px',
                    }
                },
                states: {
                    hover :{
                        halo: {
                            opacity: 1,
                            size: 0
                        },
                    }
                }
            }, {
                name: '6위',
                color: 'rgba(248, 112, 94, 0.12)',
                data: [{
                    name: '보험',
                    value: 50,
                    marker: {
                        lineWidth: 0,
                        lineColor: 'transparent',
                    },
                }],
                dataLabels: {
                    style: {
                        color: '#f8705e',
                        fontSize: '12px',
                    }
                },
                states: {
                    hover :{
                        halo: {
                            opacity: 1,
                            size: 0
                        },
                    }
                }
            },
            {
                name: 'etc',
                color: 'rgba(163, 157, 177, 0.12)',
                data: [{
                    name: '그 외 4개',
                    value: 35,
                    marker: {
                        lineWidth: 0,
                        lineColor: 'transparent',
                    },
                }],
                dataLabels: {
                    style: {
                        color: '#a39db1',
                        fontSize: '12px',
                    }
                },
                states: {
                    hover :{
                        halo: {
                            opacity: 1,
                            size: 0
                        },
                    }
                }
            }],
            annotations: [{
                animation: {
                    defer: 0,
                    duration: 100,
                    easing: 'ease-in-out'
                },
            }]
        });
    });
</script>
</body>
</html>